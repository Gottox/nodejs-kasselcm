<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>reveal.js – The HTML Presentation Framework</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
		<script src="http://127.0.0.1:3000/socket.io/socket.io.js"></script>
		<script src="http://127.0.0.1:3000/terminal.js"></script>
		<script src="http://127.0.0.1:3000/socket.io-stream.js"></script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
		<style>
/* The animation code */
@keyframes cathode {
	0% {background-position: 0% -100%; }
	100% {background-position: 0% 200%; }
}
@keyframes cursor {
	to { visibility: hidden; }
}
@font-face {
    font-family: 'invaders';
    src: url('images/invaders.from.space.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;
}


.cathode {
	background-image: url(images/kathodenstrahlstoerung.png);
	z-index: 10000;
	pointer-events: none;
	background-position: 0% 0%;
	background-repeat:repeat-x;
	position:fixed;
	left:0;
	top:0;
	bottom:0;
	right:0;
	opacity:0.1;
	animation: cathode 30s infinite linear;
}

.cursor {
	animation: cursor 4s steps(5, start) infinite;
}

.invader {
	font-family:invaders !important;
	font-size:200px !important;
	color:red !important;
}
	</style>
	</head>

	<body>
		<div class="cathode"></div>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section data-notype="1">
					<center><img src="images/void.svg" style="border:none; box-shadow:none;width:500px; background:transparent"></center>
				</section>
				<section>
					<pre style="font-size:40px; border-width:0 !important; box-shadow:0 0 0;">                 <span style="color:#0f0">OOOOOOO
               OO       OO
                   .-.   OO</span>
              <span>O</span>  <span style="color:white;">V O I D</span>  <span style="color:#0f0">O</span>
              <span>OO</span>   <span style="color:#0f0">._. </span>
               <span>OO       OO</span>
                 <span>OOOOOOO</span></pre>
					<div>VoidLinux</div>
				</section>

				<section>
					<h2>:: index</h2>
					<ul>
						<li>Anatomy of a Linux System</li>
						<li>What's Void Linux?</li>
						<li>Package management</li>
						<li>Build system</li>
					</ul>
				</section>

				<section>
					<center class="invader">hhh</center>
					<ul>
						<li class="fragment">Wer benutzt Linux?</li>
						<li class="fragment">... BSD?</li>
						<li class="fragment">... MacOS?</li>
						<li class="fragment">Wer kennt Void? <span class=fragment>außer von mir?</span></li>
					</ul>
				</section>

				<section>
					<section>
						<center class="invader">d</center>
						<h1>Anatomy of a Linux System</h1>
					</section>

					<section>
						<h2>:: Boot</h2>
					</section>

					<section>
						<h2>:: Filesystem</h2>
					</section>

					<section>
						<h2>:: Filesystem</h2>
					</section>
				</section>

				<section>
					<center class="invader">s</center>
					<h1>What's Void Linux?</h1>
				</section>

				<section>
					<center class="invader">e</center>
					<h1>Package Management</h1>
				</section>

				<section>
					<center class="invader">t</center>
					<h1>Build system</h1>
				</section>

				<section>
					<div class="terminaljs" data-rows=12 data-columns=49 data-exec="cd ~; clear"></div>
				</section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: false,
				progress: false,
				history: true,
				center: true,

				transition: 'none', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});
			function typeCode(e) {
				var n, p, walk=document.createTreeWalker(e, NodeFilter.SHOW_TEXT,null,false);
				var elements = [], i = 0, j = 0;
				while(n=walk.nextNode()) {
					if(n.nodeValue.trim() === "") continue;
					for(p = n; p; p = p.parentNode) {
						if(p.classList && p.classList.contains("fragment") && !p.classList.contains("visible"))
							break;
						if(p.dataset && p.dataset.notype)
							break;
					}
					if(p) continue;
					elements.push({n: n, t: n.nodeValue, o: n.parentNode.style.opacity});
					n.nodeValue = "";
				}
				for(i = 0; i < elements.length; i++) {
					elements[i].n.parentNode.style.opacity = 0;
				}
				i=0
				if(elements.length == 0)
					return;
				var interval = setInterval(function () {
					elements[i].n.parentNode.style.opacity = elements[i].o;
					if(elements[i].t.length <= j) {
						elements[i].n.nodeValue = elements[i].t;
						i++;
						j=0
						console.log(j);
					}
					if(elements[i] === undefined)
						return clearInterval(interval);
					j += elements[i].t.substr(j).match(/^[\t ]*/)[0].length;
					elements[i].n.nodeValue = elements[i].t.substr(0, j) + "_";
					j++;
				}, 30); 
			}
			Reveal.addEventListener( 'slidechanged', function( event ) {
				event.currentSlide.focus();
				typeCode(event.currentSlide);
				if(event.currentSlide.querySelector(".terminaljs"))
					event.currentSlide.querySelector(".terminaljs").focus();
			} );
			Reveal.addEventListener( 'fragmentshown', function( event ) {
				typeCode(event.fragment);
			} );


		</script>
		<script>
var containers = document.getElementsByClassName('terminaljs'),
	socket = io('http://127.0.0.1:3000/pty'), term, stream;
for(var i = 0; i < containers.length; i++) {

	// setting tabindex makes the element focusable
	containers[i].tabindex = 0;

	// use data-* attributes to configure terminal and child_pty
	term = new Terminal(containers[i].dataset);

	// Create bidirectional stream
	stream = ss.createStream({decodeStrings: false, encoding: 'utf-8'});

	// Send stream and options to the server
	ss(socket).emit('new', stream, containers[i].dataset);

	stream.write(containers[i].dataset.exec + "\n");
	// Connect everything up
	stream.pipe(term).dom(containers[i]).pipe(stream);
}
		</script>
	</body>
</html>
